@import "swiper/css/bundle" layer(base);
@import "tailwindcss" source("../../app");
@plugin "@tailwindcss/typography";

@theme {
  /* Fonts - Naturelle uses Nunito Sans (body) and Cormorant (heading) */
  --font-body: Nunito Sans Variable, ui-sans-serif, system-ui, sans-serif;
  --font-heading: Cormorant Variable, ui-serif, Georgia, Cambria, Times New Roman, Times, serif;

  /* Breakpoints */
  --breakpoint-sm: 32em;
  --breakpoint-md: 48em;
  --breakpoint-lg: 64em;
  --breakpoint-xl: 80em;
  --breakpoint-2xl: 90rem;

  /* Container */
  --container-2xl: 1440px;

  /* Colors */
  --color-background: var(--color-background);
  --color-text-primary: var(--color-text-primary);
  --color-text-subtle: var(--color-text-subtle);
  --color-text-inverse: var(--color-text-inverse);

  --color-header-bg: var(--color-header-bg);

  --color-border: var(--color-border);
  --color-border-subtle: var(--color-border-subtle);
  
  --color-label-text: var(--color-label-text);
  --color-label-sale-background: var(--color-label-bg-sale);
  --color-label-new-background: var(--color-label-bg-new);
  --color-label-soldout-background: var(--color-label-bg-soldout);

  /* Height Overrides */
  --height-screen: var(--screen-height, 100vh);
}

@theme inline {
  /* Font Sizes with Calc (from old tailwind.config.js) */
  --text-scale: calc(
    var(--min-size-px) + 
    (var(--max-size) - var(--min-size)) * 
    ((100vw - var(--wv-min-viewport-size, 320) * 1px) / 
    (var(--wv-max-viewport-size, 1920) - var(--wv-min-viewport-size, 320)))
  );
  --text-scale--line-height: 1;

  --text-xs: calc(var(--body-base-size) * 0.75);
  --text-xs--line-height: 1;
  --text-sm: calc(var(--body-base-size) * 0.875);
  --text-sm--line-height: 1.25;
  --text-base: var(--body-base-size);
  --text-base--line-height: var(--body-base-line-height);
  --text-lg: calc(var(--body-base-size) * 1.125);
  --text-lg--line-height: 1.75;
  --text-xl: calc(var(--body-base-size) * 1.25);
  --text-xl--line-height: 1.75;
  --text-2xl: calc(var(--body-base-size) * 1.5);
  --text-2xl--line-height: 2;
  --text-3xl: calc(var(--body-base-size) * 1.875);
  --text-3xl--line-height: 2.25;
  --text-4xl: calc(var(--body-base-size) * 2.25);
  --text-4xl--line-height: 2.5;
  --text-5xl: calc(var(--body-base-size) * 3);
  --text-5xl--line-height: 1;
  --text-6xl: calc(var(--body-base-size) * 3.75);
  --text-6xl--line-height: 1;
  --text-7xl: calc(var(--body-base-size) * 4.5);
  --text-7xl--line-height: 1;
  --text-8xl: calc(var(--body-base-size) * 6);
  --text-8xl--line-height: 1;
  --text-9xl: calc(var(--body-base-size) * 8);
  --text-9xl--line-height: 1;

  /* Animations */
  --animate-accordion-down: accordion-down 0.2s ease-out;
  --animate-accordion-up: accordion-up 0.2s ease-out;
  --animate-scrollContent: scrollContent linear infinite;
  --animate-slide-left: slide-left var(--slide-left-duration) cubic-bezier(.165,.84,.44,1) forwards;
  --animate-fade-in: fade-in var(--fade-in-duration, .5s) ease-in forwards;

  /* Keyframes */
  @keyframes accordion-down {
    from { height: 0; }
    to { height: var(--radix-accordion-content-height); }
  }
  @keyframes accordion-up {
    from { height: var(--radix-accordion-content-height); }
    to { height: 0; }
  }
  @keyframes scrollContent {
    from { transform: translateX(0); }
    to { transform: translateX(-100%); }
  }
  @keyframes slide-left {
    from { opacity: 0; transform: translateX(var(--slide-left-from)); }
    to { opacity: 1; transform: translateX(0); }
  }
  @keyframes fade-in {
    from { opacity: 0; }
    to { opacity: 1; }
  }
  @keyframes fadeInAnimation {
    from { opacity: 0; }
    to { opacity: 1; }
  }
}


@utility text-scale {
  font-size: calc(
    var(--min-size-px) + 
    (var(--max-size) - var(--min-size)) * 
    ((100vw - var(--wv-min-viewport-size, 320) * 1px) / 
    (var(--wv-max-viewport-size, 1920) - var(--wv-min-viewport-size, 320)))
  );
  line-height: 1;
}

@utility h-screen-no-nav {
  height: calc(var(--screen-height, 100vh) - var(--height-nav));
}

@utility h-screen-in-drawer {
  height: calc(var(--screen-height, 100vh) - 90px);
}

@utility h-screen-dynamic {
  height: var(--screen-height-dynamic, 100vh);
}

@utility h-nav {
  height: var(--height-nav);
}

@utility hiddenScroll {
  scrollbar-width: none;
  &::-webkit-scrollbar {
    display: none;
  }
}

@variant dark (&:where(.dark, .dark *));

@layer base {
  * {
    border-color: var(--color-border);
  }

  body {
    font-family: var(--font-body);
    background-color: var(--color-background);
    color: var(--color-text-primary);
    -webkit-font-smoothing: antialiased;
  }

  h1, h2, h3, h4, h5, h6 {
    font-family: var(--font-heading);
  }

  mark {
    background-color: transparent;
    font-weight: normal;
  }

  img {
    border-radius: 4px;
  }
}

@layer components {
  .swimlane {
    @apply grid w-full snap-x snap-mandatory scroll-px-6 grid-flow-col justify-start gap-4 overflow-x-scroll px-6 pb-4;
  }
}

.animated-scope [data-motion] {
  opacity: 0;
}

.heading {
  font-family: var(--font-heading);
}

.subheading {
  font-family: var(--font-heading);
}

.paragraph {
  font-family: var(--font-body);
}

/* Diagonal line effect for sold out products */
.diagonal {
  position: relative;
  overflow: hidden;
}

.diagonal::before {
  content: "";
  position: absolute;
  top: 0;
  right: 0;
  bottom: 0;
  left: 0;
  z-index: 1;
  background: linear-gradient(
    to top left,
    transparent calc(50% - 2px),
    #c2c3c2,
    transparent calc(50% + 2px)
  ) no-repeat;
}

/* Container max width */
.container {
  max-width: var(--page-width, 1440px);
  margin-left: auto;
  margin-right: auto;
}

/* Hide search cancel button */
input[type="search"]::-webkit-search-cancel-button {
  display: none;
}

/* Custom scrollbar */
.custom-scroll::-webkit-scrollbar {
  width: 6px;
}

.custom-scroll::-webkit-scrollbar-track {
  background: #f1f1f1;
  border-radius: 10px;
}

.custom-scroll::-webkit-scrollbar-thumb {
  background: #888;
  border-radius: 10px;
}

.custom-scroll::-webkit-scrollbar-thumb:hover {
  background: #555;
}

/* Section background */
.has-background {
  background-color: var(--section-background-color);
  border-radius: var(--section-border-radius);
}

/* Underline animation for links */
.text-animation {
  position: relative;
  display: inline-block;
}

.text-animation::after {
  content: "";
  position: absolute;
  left: 50%;
  bottom: 0;
  width: 0;
  height: var(--underline-size, 1px);
  background: var(--underline-color, #386e4a);
  transition: all 0.3s ease;
}

.text-animation:hover::after {
  left: 0;
  width: 100%;
}

/* Announcement bar offset for sticky header */
#announcement-bar ~ header {
  top: var(--announcement-bar-height, 0px);
}

:root {
  --aside-width: 400px;
  --cart-aside-summary-height-with-discount: 300px;
  --cart-aside-summary-height: 250px;
  --grid-item-width: 355px;
  --header-height: 64px;
  --color-dark: #000;
  --color-light: #fff;
}

/* Aside Component */
aside {
  background: var(--color-light);
  box-shadow: 0 0 50px rgba(0, 0, 0, 0.3);
  height: 100vh;
  max-width: var(--aside-width);
  min-width: var(--aside-width);
  position: fixed;
  right: calc(-1 * var(--aside-width));
  top: 0;
  transition: transform 200ms ease-in-out;
}

aside header {
  align-items: center;
  border-bottom: 1px solid var(--color-dark);
  display: flex;
  height: var(--header-height);
  justify-content: space-between;
  padding: 0 20px;
}

aside header h3 {
  margin: 0;
}

aside header .close {
  font-weight: bold;
  opacity: 0.8;
  text-decoration: none;
  transition: all 200ms;
  width: 20px;
}

aside header .close:hover {
  opacity: 1;
}

aside header h2 {
  margin-bottom: 0.6rem;
  margin-top: 0;
}

aside main {
  margin: 1rem;
}

aside p {
  margin: 0 0 0.25rem;
}

aside p:last-child {
  margin: 0;
}

aside li {
  margin-bottom: 0.125rem;
}

/* Overlay */
.overlay {
  background: rgba(0, 0, 0, 0.2);
  bottom: 0;
  left: 0;
  opacity: 0;
  pointer-events: none;
  position: fixed;
  right: 0;
  top: 0;
  transition: opacity 400ms ease-in-out;
  visibility: hidden;
  z-index: 10;
}

.overlay .close-outside {
  background: transparent;
  border: none;
  color: transparent;
  height: 100%;
  left: 0;
  position: absolute;
  top: 0;
  width: calc(100% - var(--aside-width));
}

.overlay .light {
  background: rgba(255, 255, 255, 0.5);
}

.overlay .cancel {
  cursor: default;
  height: 100%;
  position: absolute;
  width: 100%;
}

.overlay:target {
  opacity: 1;
  pointer-events: auto;
  visibility: visible;
}

.overlay:target aside {
  transform: translateX(calc(var(--aside-width) * -1));
}

/* Header Component */
.header {
  align-items: center;
  background: #fff;
  display: flex;
  height: var(--header-height);
  padding: 0 1rem;
  position: sticky;
  top: 0;
  z-index: 1;
}

.header-menu-mobile-toggle {
  @media (min-width: 48em) {
    display: none;
  }
}

.header-menu-mobile {
  display: flex;
  flex-direction: column;
  grid-gap: 1rem;
}

.header-menu-desktop {
  display: none;
  grid-gap: 1rem;
  @media (min-width: 45em) {
    display: flex;
    grid-gap: 1rem;
    margin-left: 3rem;
  }
}

.header-menu-item {
  cursor: pointer;
}

.header-ctas {
  align-items: center;
  display: flex;
  grid-gap: 1rem;
  margin-left: auto;
}

/* Footer Component */
.footer {
  margin-top: auto;
}

.footer-menu-missing {
  display: inline-block;
  margin: 1rem;
}

.footer-menu {
  align-items: center;
  display: flex;
  grid-gap: 1rem;
  padding: 1rem;
}

.footer-menu a {
  color: var(--color-light);
}

/* Cart Component */
.cart-main {
  width: auto;
}

.cart-line {
  display: flex;
  padding: 0.75rem 0;
}

.cart-line img {
  height: 100%;
  display: block;
  margin-right: 0.75rem;
}

.cart-summary-page {
  position: relative;
}

.cart-summary-aside {
  background: white;
  border-top: 1px solid var(--color-dark);
  bottom: 0;
  padding-top: 0.75rem;
  position: absolute;
  width: calc(var(--aside-width) - 40px);
}

.cart-line-quantiy {
  display: flex;
}

.cart-discount {
  align-items: center;
  display: flex;
  margin-top: 0.25rem;
}

.cart-subtotal {
  align-items: center;
  display: flex;
}

/* Search Component */
.predictive-search {
  height: calc(100vh - var(--header-height) - 40px);
  overflow-y: auto;
}

.predictive-search-form {
  background: var(--color-light);
  position: sticky;
  top: 0;
}

.predictive-search-result {
  margin-bottom: 2rem;
}

.predictive-search-result h5 {
  text-transform: uppercase;
}

.predictive-search-result-item {
  margin-bottom: 0.5rem;
}

.predictive-search-result-item a {
  align-items: center;
  display: flex;
}

.predictive-search-result-item a img {
  margin-right: 0.75rem;
  height: 100%;
}

.search-result {
  margin-bottom: 1.5rem;
}

.search-results-item {
  margin-bottom: 0.5rem;
}

/* Featured Collection */
.featured-collection {
  display: block;
  margin-bottom: 2rem;
  position: relative;
}

.featured-collection-image {
  aspect-ratio: 1 / 1;
  @media (min-width: 45em) {
    aspect-ratio: 16 / 9;
  }
}

.featured-collection img {
  height: auto;
  max-height: 100%;
  object-fit: cover;
}

/* Recommended Products Grid */
.recommended-products-grid {
  display: grid;
  grid-gap: 1.5rem;
  grid-template-columns: repeat(2, 1fr);
  @media (min-width: 45em) {
    grid-template-columns: repeat(4, 1fr);
  }
}

.recommended-product img {
  height: auto;
}

/* Collections Grid */
.collections-grid {
  display: grid;
  grid-gap: 1.5rem;
  grid-template-columns: repeat(auto-fit, minmax(var(--grid-item-width), 1fr));
  margin-bottom: 2rem;
}

.collection-item img {
  height: auto;
}

/* Collection Description */
.collection-description {
  margin-bottom: 1rem;
  max-width: 95%;
  @media (min-width: 45em) {
    max-width: 600px;
  }
}

/* Products Grid */
.products-grid {
  display: grid;
  grid-gap: 1.5rem;
  grid-template-columns: repeat(auto-fit, minmax(var(--grid-item-width), 1fr));
  margin-bottom: 2rem;
}

.product-item img {
  height: auto;
  width: 100%;
}

/* Product Page */
.product {
  display: grid;
  @media (min-width: 45em) {
    grid-template-columns: 1fr 1fr;
    grid-gap: 4rem;
  }
}

.product h1 {
  margin-top: 0;
}

.product-images {
  display: grid;
  grid-gap: 1rem;
}

.product-image img {
  height: auto;
  width: 100%;
}

.product-main {
  align-self: start;
  position: sticky;
  top: 6rem;
}

.product-price-on-sale {
  display: flex;
  grid-gap: 0.5rem;
}

.product-price-on-sale s {
  opacity: 0.5;
}

.product-options-grid {
  display: flex;
  flex-wrap: wrap;
  grid-gap: 0.75rem;
}

.product-options-item {
  padding: 0.25rem 0.5rem;
}

.fadeIn {
  opacity: 0;
  animation: fadeInAnimation ease 500ms forwards;
}

.vt-product-image {
  view-transition-name: product-image;
}

/* Blog Grid */
.blog-grid {
  display: grid;
  grid-gap: 1.5rem;
  grid-template-columns: repeat(auto-fit, minmax(var(--grid-item-width), 1fr));
  margin-bottom: 2rem;
}

.blog-article-image {
  aspect-ratio: 3 / 2;
  display: block;
}

.blog-article-image img {
  height: 100%;
}

/* Article */
.article img {
  height: auto;
  width: 100%;
}

/* Account */
.account-profile-marketing {
  display: flex;
  align-items: center;
}

.account-logout {
  display: inline-block;
}
